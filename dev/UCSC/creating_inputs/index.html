<!DOCTYPE html><html class=writer-html5 lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content="Vishal Koparde, Ph.D., Samantha Sevilla, PhD."><link rel="shortcut icon" href=../../img/favicon.ico><title>Creating Inputs - CCBR How Tos</title><link rel=stylesheet href=../../css/theme.css><link rel=stylesheet href=../../css/theme_extra.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css><link href=../../css/version-select.css rel=stylesheet><script>
        // Current page data
        var mkdocs_page_name = "Creating Inputs";
        var mkdocs_page_input_path = "UCSC/creating_inputs.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js></script><script>hljs.highlightAll();</script></head> <body class=wy-body-for-nav role=document> <div class=wy-grid-for-nav> <nav data-toggle=wy-nav-shift class="wy-nav-side stickynav"> <div class=wy-side-scroll> <div class=wy-side-nav-search> <a href=../.. class="icon icon-home"> CCBR How Tos </a><div role=search> <form id=rtd-search-form class=wy-form action=../../search.html method=get> <input type=text name=q placeholder="Search docs" aria-label="Search docs" title="Type search term here"> </form> </div> </div> <div class="wy-menu wy-menu-vertical" data-spy=affix role=navigation aria-label="Navigation menu"> <ul> <li class=toctree-l1><a class="reference internal" href=../..>Intro</a> </li> </ul> <p class=caption><span class=caption-text>GitHub</span></p> <ul> <li class=toctree-l1><a href=../../GitHub/overview/ class="reference internal">Overview</a> </li> <li class=toctree-l1><a class="reference internal">Set-Up</a> <ul> <li class=toctree-l2><a href=../../GitHub/howto_setup/ class="reference internal">Preparing your environment</a> </li> <li class=toctree-l2><a href=../../GitHub/howto_functions/ class="reference internal">Basic Commands</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Basics</a> <ul> <li class=toctree-l2><a href=../../GitHub/basic_repo/ class="reference internal">Creating your GitHub Repo</a> </li> <li class=toctree-l2><a href=../../GitHub/basic_docs/ class="reference internal">Creating your Documentation</a> </li> <li class=toctree-l2><a href=../../GitHub/basic_actions/ class="reference internal">Creating GitHub Actions</a> </li> <li class=toctree-l2><a href=../../GitHub/howto_precommit/ class="reference internal">Using Pre-Commit</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Best Practices</a> <ul> <li class=toctree-l2><a href=../../GitHub/sop_projpipes/ class="reference internal">Projects,Pipelines</a> </li> <li class=toctree-l2><a href=../../GitHub/sop_techdev/ class="reference internal">TechDev</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>TechDev</span></p> <ul> <li class=toctree-l1><a href=../../GitHub/sop_techdev/ class="reference internal">TechDev</a> </li> </ul> <p class=caption><span class=caption-text>HPCDME</span></p> <ul> <li class=toctree-l1><a href=../../HPCDME/setup/ class="reference internal">Setup</a> </li> <li class=toctree-l1><a href=../../HPCDME/transfer/ class="reference internal">Biowulf2HPCDME</a> </li> <li class=toctree-l1><a href=../../HPCDME/transferFromHelix/ class="reference internal">Helix2HPCDME</a> </li> </ul> <p class=caption><span class=caption-text>UCSC Tracks</span></p> <ul class=current> <li class=toctree-l1><a href=../overview/ class="reference internal">Overview</a> </li> <li class="toctree-l1 current"><a class="reference internal current" href=#>Creating Inputs</a> <ul class=current> <li class=toctree-l2><a class="reference internal" href=#individual-sample-files>Individual sample files</a> </li> <li class=toctree-l2><a class="reference internal" href=#contrasts-between-samples>Contrasts between samples</a> </li> </ul> </li> <li class=toctree-l1><a href=../creating_track_info/ class="reference internal">Creating Tracks Info</a> </li> <li class=toctree-l1><a href=../creating_tracks/ class="reference internal">Creating Tracks</a> </li> </ul> <p class=caption><span class=caption-text>Creating an R Package</span></p> <ul> <li class=toctree-l1><a href=../../Rpackage/setup/ class="reference internal">Set-Up</a> </li> <li class=toctree-l1><a href=../../Rpackage/build_pkg/ class="reference internal">Creating the package</a> </li> <li class=toctree-l1><a href=../../Rpackage/common_issues/ class="reference internal">Troubleshooting</a> </li> </ul> <p class=caption><span class=caption-text>Other How Tos</span></p> <ul> <li class=toctree-l1><a href=../../OtherHowTos/datashare/ class="reference internal">Datashare</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/zenodo/ class="reference internal">Zenodo</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/lucidcharts/ class="reference internal">LucidCharts</a> </li> </ul> <p class=caption><span class=caption-text>Tutorials</span></p> <ul> <li class=toctree-l1><a href=../../Tutorials/snakemake/ class="reference internal">Snakemake</a> </li> </ul> <ul> <li class=toctree-l1><a href=../../contributions/ class="reference internal">Contributions</a> </li> </ul> </div> </div> </nav> <section data-toggle=wy-nav-shift class=wy-nav-content-wrap> <nav class=wy-nav-top role=navigation aria-label="Mobile navigation menu"> <i data-toggle=wy-nav-top class="fa fa-bars"></i> <a href=../..>CCBR How Tos</a> </nav> <div class=wy-nav-content> <div class=rst-content><div role=navigation aria-label="breadcrumbs navigation"> <ul class=wy-breadcrumbs> <li><a href=../.. class="icon icon-home" aria-label=Docs></a></li> <li class=breadcrumb-item>UCSC Tracks</li> <li class="breadcrumb-item active">Creating Inputs</li> <li class=wy-breadcrumbs-aside> </li> </ul> <hr> </div> <div role=main class=document itemscope=itemscope itemtype=http://schema.org/Article> <div class=section itemprop=articleBody> <h2 id=generating-inputs>Generating Inputs<a class=headerlink href=#generating-inputs title="Permanent link">&para;</a></h2> <p>In order to use the genomic broswer features, sample files must be created.</p> <h3 id=individual-sample-files>Individual sample files<a class=headerlink href=#individual-sample-files title="Permanent link">&para;</a></h3> <p>For individual samples, where peak density is to be observed, bigwig formatted files must be generated. If using the CCBR pipelines these are automatically generated as outputs of the pipeline (<code>WORKDIR/results/bigwig</code>). In many cases, scaling or normalization of bigwig is required to visualize multiple samples in comparison with each other. See various <a href="https://deeptools.readthedocs.io/en/develop/content/tools/bamCompare.html?highlight=normalizeUsing#read-coverage-normalization-options">deeptools</a> options for details/ideas. If not using CCBR pipelines, example code is provided below for the file generation. <pre class=highlight><code>modue load ucsc

fragments_bed="/path/to/sample1.fragments.bed"
bw="/path/to/sample1.bigwig"
genome_len="numeric_genome_length"
bg="/path/to/sample1.bedgraph"
bw="/path/to/sample2.bigwig"

# if using a spike-in scale, the scaling factor should be applied
# while not required, it is recommended for CUT&amp;RUN experiements
spikein_scale="spike_in_value"

# create bed file
bedtools genomecov -bg -scale $spikein_scale -i $fragments_bed -g $genome_len &gt; $bg

# create bigwig file
bedGraphToBigWig $bg $genome_len $bw</code></pre></p> <h3 id=contrasts-between-samples>Contrasts between samples<a class=headerlink href=#contrasts-between-samples title="Permanent link">&para;</a></h3> <p>For contrasts, where peak differences are to be observed, bigbed formatted files must be generated. If using the CCBR/CARLISLE pipeline these are automatically generated as outputs of the pipeline (WORKDIR/results/peaks/contrasts/contrast_id/). If not using this pipeline, example code is provided below for the file generation. <pre class=highlight><code>module load ucsc

bed="/path/to/sample1_vs_sample2_fragmentsbased_diffresults.bed"
bigbed="/path/to/output/sample1_vs_sample2_fragmentsbased_diffresults.bigbed"
genome_len="numeric_genome_length"

# create bigbed file
bedToBigBed -type=bed9 $bed $genome_len $bigbed</code></pre></p> <h2 id=sharing-data>Sharing data<a class=headerlink href=#sharing-data title="Permanent link">&para;</a></h2> <p>For all sample types, data must be stored on a shared directory. It is recommended that symlnks be created from the source location to this shared directory to ensure that minial disc space is being used. Example code for creating symlinks is provided below.</p> <h3 id=single-sample>single sample<a class=headerlink href=#single-sample title="Permanent link">&para;</a></h3> <pre class=highlight><code># single sample
## set source file location
source_loc="/WORKDIR/results/bigwig/sample1.bigwig "

## set destination link location
link_loc="/SHAREDDIR/bigwig/sample1.bigwig"

## create hard links
ln $source_loc $link_loc</code></pre> <h3 id=contrast-sample>contrast sample<a class=headerlink href=#contrast-sample title="Permanent link">&para;</a></h3> <pre class=highlight><code># contrast
## set source file location
source_loc="WORKDIR/results/peaks/contrasts/sample1_vs_sample2/sample1_vs_sample2_fragmentsbased_diffresults.bigbed "

## set destination link location
link_loc="/SHAREDDIR/bigbed/sample1_vs_sample2.bigbed"

## create hard links
ln $source_loc $link_loc</code></pre> <p>Once the links have been generated, the data folder must be open to read and write access. <pre class=highlight><code>## set destination link location
link_loc="/SHAREDDIR/bigbed/"

# open dir
chmod -R a+rX $link_loc</code></pre></p> </div> </div><footer> <div class=rst-footer-buttons role=navigation aria-label="Footer Navigation"> <a href=../overview/ class="btn btn-neutral float-left" title=Overview><span class="icon icon-circle-arrow-left"></span> Previous</a> <a href=../creating_track_info/ class="btn btn-neutral float-right" title="Creating Tracks Info">Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr> <div role=contentinfo> <!-- Copyright etc --> <p>Copyright &copy; 2025 CCBR</p> </div> Built with <a href=https://www.mkdocs.org/ >MkDocs</a> using a <a href=https://github.com/readthedocs/sphinx_rtd_theme>theme</a> provided by <a href=https://readthedocs.org>Read the Docs</a>. </footer> </div> </div> </section> </div> <div class=rst-versions role=note aria-label=Versions> <span class=rst-current-version data-toggle=rst-current-version> <span> <a href=https://github.com/CCBR/HowTos class="fa fa-code-fork" style="color: #fcfcfc"> CCBR/HowTos</a> </span> <span><a href=../overview/ style="color: #fcfcfc">&laquo; Previous</a></span> <span><a href=../creating_track_info/ style="color: #fcfcfc">Next &raquo;</a></span> </span> </div> <script src=../../js/jquery-3.6.0.min.js></script> <script>var base_url = "../..";</script> <script src=../../js/theme_extra.js></script> <script src=../../js/theme.js></script> <script src=../../search/main.js></script> <script src=../../js/version-select.js></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 