<!DOCTYPE html><html class=writer-html5 lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content="Vishal Koparde, Ph.D., Samantha Sevilla, PhD."><link rel="shortcut icon" href=../../img/favicon.ico><title>Using Pre-Commit - CCBR How Tos</title><link rel=stylesheet href=../../css/theme.css><link rel=stylesheet href=../../css/theme_extra.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css><script>
        // Current page data
        var mkdocs_page_name = "Using Pre-Commit";
        var mkdocs_page_input_path = "GitHub/howto_precommit.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js></script><script>hljs.highlightAll();</script></head> <body class=wy-body-for-nav role=document> <div class=wy-grid-for-nav> <nav data-toggle=wy-nav-shift class="wy-nav-side stickynav"> <div class=wy-side-scroll> <div class=wy-side-nav-search> <a href=../.. class="icon icon-home"> CCBR How Tos </a> <div class=version> {'provider': 'mike'} </div><div role=search> <form id=rtd-search-form class=wy-form action=../../search.html method=get> <input type=text name=q placeholder="Search docs" aria-label="Search docs" title="Type search term here"> </form> </div> </div> <div class="wy-menu wy-menu-vertical" data-spy=affix role=navigation aria-label="Navigation menu"> <ul> <li class=toctree-l1><a class="reference internal" href=../..>Intro</a> </li> </ul> <p class=caption><span class=caption-text>GitHub</span></p> <ul class=current> <li class=toctree-l1><a href=../overview/ class="reference internal">Overview</a> </li> <li class=toctree-l1><a class="reference internal">Set-Up</a> <ul> <li class=toctree-l2><a href=../howto_setup/ class="reference internal">Preparing your environment</a> </li> <li class=toctree-l2><a href=../howto_functions/ class="reference internal">Basic Commands</a> </li> </ul> </li> <li class="toctree-l1 current"><a class="reference internal current">Basics</a> <ul class=current> <li class=toctree-l2><a href=../basic_repo/ class="reference internal">Creating your GitHub Repo</a> </li> <li class=toctree-l2><a href=../basic_docs/ class="reference internal">Creating your Documentation</a> </li> <li class=toctree-l2><a href=../basic_actions/ class="reference internal">Creating GitHub Actions</a> </li> <li class="toctree-l2 current"><a class="reference internal current" href=#>Using Pre-Commit</a> <ul class=current> <li class=toctree-l3><a class="reference internal" href=#using-precommit>Using Precommit</a> </li> <li class=toctree-l3><a class="reference internal" href=#structure-of-commit-messages>Structure of Commit Messages</a> <ul> <li class=toctree-l4><a class="reference internal" href=#type-required>Type (REQUIRED)</a> </li> <li class=toctree-l4><a class="reference internal" href=#scope-optional>Scope (OPTIONAL)</a> </li> <li class=toctree-l4><a class="reference internal" href=#subject-required>Subject (REQUIRED)</a> </li> <li class=toctree-l4><a class="reference internal" href=#body-optional>Body (OPTIONAL)</a> </li> <li class=toctree-l4><a class="reference internal" href=#footer-optional>Footer (OPTIONAL)</a> </li> <li class=toctree-l4><a class="reference internal" href=#examples>Examples</a> </li> </ul> </li> </ul> </li> </ul> </li> <li class=toctree-l1><a class="reference internal">Best Practices</a> <ul> <li class=toctree-l2><a href=../sop_projpipes/ class="reference internal">Projects,Pipelines</a> </li> <li class=toctree-l2><a href=../sop_techdev/ class="reference internal">TechDev</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>TechDev</span></p> <ul> <li class=toctree-l1><a href=../sop_techdev/ class="reference internal">TechDev</a> </li> </ul> <p class=caption><span class=caption-text>HPCDME</span></p> <ul> <li class=toctree-l1><a href=../../HPCDME/setup/ class="reference internal">Setup</a> </li> <li class=toctree-l1><a href=../../HPCDME/transfer/ class="reference internal">Biowulf2HPCDME</a> </li> <li class=toctree-l1><a href=../../HPCDME/transferFromHelix/ class="reference internal">Helix2HPCDME</a> </li> </ul> <p class=caption><span class=caption-text>UCSC Tracks</span></p> <ul> <li class=toctree-l1><a href=../../UCSC/overview/ class="reference internal">Overview</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_inputs/ class="reference internal">Creating Inputs</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_track_info/ class="reference internal">Creating Tracks Info</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_tracks/ class="reference internal">Creating Tracks</a> </li> </ul> <p class=caption><span class=caption-text>Creating an R Package</span></p> <ul> <li class=toctree-l1><a href=../../Rpackage/setup/ class="reference internal">Set-Up</a> </li> <li class=toctree-l1><a href=../../Rpackage/build_pkg/ class="reference internal">Creating the package</a> </li> <li class=toctree-l1><a href=../../Rpackage/common_issues/ class="reference internal">Troubleshooting</a> </li> </ul> <p class=caption><span class=caption-text>Other How Tos</span></p> <ul> <li class=toctree-l1><a href=../../OtherHowTos/datashare/ class="reference internal">Datashare</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/zenodo/ class="reference internal">Zenodo</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/lucidcharts/ class="reference internal">LucidCharts</a> </li> </ul> <p class=caption><span class=caption-text>Tutorials</span></p> <ul> <li class=toctree-l1><a href=../../Tutorials/snakemake/ class="reference internal">Snakemake</a> </li> </ul> <ul> <li class=toctree-l1><a href=../../contributions/ class="reference internal">Contributions</a> </li> </ul> </div> </div> </nav> <section data-toggle=wy-nav-shift class=wy-nav-content-wrap> <nav class=wy-nav-top role=navigation aria-label="Mobile navigation menu"> <i data-toggle=wy-nav-top class="fa fa-bars"></i> <a href=../..>CCBR How Tos</a> </nav> <div class=wy-nav-content> <div class=rst-content><div role=navigation aria-label="breadcrumbs navigation"> <ul class=wy-breadcrumbs> <li><a href=../.. class="icon icon-home" aria-label=Docs></a></li> <li class=breadcrumb-item>GitHub</li> <li class=breadcrumb-item>Basics</li> <li class="breadcrumb-item active">Using Pre-Commit</li> <li class=wy-breadcrumbs-aside> <a href=https://github.com/CCBR/HowTos/edit/main/docs/GitHub/howto_precommit.md>Edit on CCBR/HowTos</a> </li> </ul> <hr> </div> <div role=main class=document itemscope=itemscope itemtype=http://schema.org/Article> <div class=section itemprop=articleBody> <h1 id=github-howto-pre-commit>GitHub HowTo: Pre-Commit<a class=headerlink href=#github-howto-pre-commit title="Permanent link">&para;</a></h1> <p>Pre-commit should be added to all GitHub repositories on Biowulf and any clones created elsewhere to ensure cohesive and informative commit messages. After the creating the repository the following commands should be run in order to initialize the pre-commit hook, and establish the following requirements for all commit messages:</p> <h2 id=using-precommit>Using Precommit<a class=headerlink href=#using-precommit title="Permanent link">&para;</a></h2> <p>Pre-commit has been installed as a module on Biowulf. Set up an interactive session, and follow the steps below. A pre-commit configuration file is needed, and can be copied from the <a href=https://github.com/CCBR/CCBR_NextflowTemplate/blob/main/.pre-commit-config.yaml>CCBR template repo</a>. <pre class=highlight><code># load module on biowulf
module load precommit

# CD into the GitHub repo
cd &lt;repo_name&gt;

# install precommit in the repo - this is the only time you need to do this, per local repo location
pre-commit install

# copy and update the precommit config
touch .pre-commit.config</code></pre></p> <h2 id=structure-of-commit-messages>Structure of Commit Messages<a class=headerlink href=#structure-of-commit-messages title="Permanent link">&para;</a></h2> <p>Commits must follow the format listed below, as designated by <a href=https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines>Angular</a>: <pre class=highlight><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;</code></pre></p> <h3 id=type-required>Type (REQUIRED)<a class=headerlink href=#type-required title="Permanent link">&para;</a></h3> <p>The <code>type</code> must be one of the following options:</p> <ul> <li>build: Changes that affect the build system or external dependencies</li> <li>ci: Changes to our CI configuration files and scripts</li> <li>docs: Documentation only changes</li> <li>feat: A new feature</li> <li>fix: A bug fix</li> <li>perf: A code change that improves performance</li> <li>refactor: A code change that neither fixes a bug nor adds a feature</li> <li>style: Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)</li> <li>test: Adding missing tests or correcting existing tests</li> </ul> <h3 id=scope-optional>Scope (OPTIONAL)<a class=headerlink href=#scope-optional title="Permanent link">&para;</a></h3> <p>The <code>scope</code> must be one of the following options:</p> <ul> <li>animations</li> <li>common</li> <li>compiler</li> <li>compiler-cli</li> <li>core</li> <li>elements</li> <li>forms</li> <li>http</li> <li>language-service</li> <li>platform-browser</li> <li>platform-browser-dynamic</li> <li>platform-server</li> <li>platform-webworker</li> <li>platform-webworker-dynamic</li> <li>router</li> <li>service-worker</li> <li>upgrade</li> </ul> <h3 id=subject-required>Subject (REQUIRED)<a class=headerlink href=#subject-required title="Permanent link">&para;</a></h3> <p>The <code>subject</code> must be a succinct description of the change. It should follow the following rules:</p> <ul> <li>use the imperative, present tense: "change" not "changed" nor "changes"</li> <li>don't capitalize the first letter</li> <li>no dot (.) at the end</li> </ul> <h3 id=body-optional>Body (OPTIONAL)<a class=headerlink href=#body-optional title="Permanent link">&para;</a></h3> <p>The <code>body</code> should include the motivation for the change and contrast this with previous behavior. It should follow the following rule:</p> <ul> <li>use the imperative, present tense: "change" not "changed" nor "changes"</li> </ul> <h3 id=footer-optional>Footer (OPTIONAL)<a class=headerlink href=#footer-optional title="Permanent link">&para;</a></h3> <p>The <code>footer</code> should contain any information about <code>Breaking Changes</code> and is also the place to reference GitHub issues that this commit Closes.</p> <ul> <li><a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.uyo6cb12dt6w">Breaking Changes</a> should start with the word BREAKING CHANGE: with a space or two newlines. The rest of the commit message is then used for this.</li> <li><code>Closed bugs</code> should be listed on a separate line in the footer from <code>Breaking Changes</code>, prefixed with "Closes" keyword (Closes #234 or Closes #123, #245, #992).</li> </ul> <h3 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">&para;</a></h3> <p>Below are some examples of properly formatted commit messages <pre class=highlight><code># example
docs(changelog): update changelog to beta.5

# example
fix(release): need to depend on latest rxjs and zone.js

# example
feat($browser): onUrlChange event (popstate/hashchange/polling)
Added new event to $browser:
- forward popstate event if available
- forward hashchange event if popstate not available
- do polling when neither popstate nor hashchange available

Breaks $browser.onHashChange, which was removed (use onUrlChange instead)

# example
fix($compile): couple of unit tests for IE9
Older IEs serialize html uppercased, but IE9 does not...
Would be better to expect case insensitive, unfortunately jasmine does
not allow to user regexps for throw expectations.

Closes #392
Breaks foo.bar api, foo.baz should be used instead</code></pre></p> </div> </div><footer> <div class=rst-footer-buttons role=navigation aria-label="Footer Navigation"> <a href=../basic_actions/ class="btn btn-neutral float-left" title="Creating GitHub Actions"><span class="icon icon-circle-arrow-left"></span> Previous</a> <a href=../sop_projpipes/ class="btn btn-neutral float-right" title=Projects,Pipelines>Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr> <div role=contentinfo> <!-- Copyright etc --> <p>Copyright &copy; 2025 CCBR</p> </div> Built with <a href=https://www.mkdocs.org/ >MkDocs</a> using a <a href=https://github.com/readthedocs/sphinx_rtd_theme>theme</a> provided by <a href=https://readthedocs.org>Read the Docs</a>. </footer> </div> </div> </section> </div> <div class=rst-versions role=note aria-label=Versions> <span class=rst-current-version data-toggle=rst-current-version> <span> <a href=https://github.com/CCBR/HowTos class="fa fa-code-fork" style="color: #fcfcfc"> CCBR/HowTos</a> </span> <span><a href=../basic_actions/ style="color: #fcfcfc">&laquo; Previous</a></span> <span><a href=../sop_projpipes/ style="color: #fcfcfc">Next &raquo;</a></span> </span> </div> <script src=../../js/jquery-3.6.0.min.js></script> <script>var base_url = "../..";</script> <script src=../../js/theme_extra.js></script> <script src=../../js/theme.js></script> <script src=../../search/main.js></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 