<!DOCTYPE html><html class=writer-html5 lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content="Vishal Koparde, Ph.D., Samantha Sevilla, PhD."><link rel="shortcut icon" href=../../img/favicon.ico><title>Biowulf2HPCDME - CCBR How Tos</title><link rel=stylesheet href=../../css/theme.css><link rel=stylesheet href=../../css/theme_extra.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css><link href=../../css/version-select.css rel=stylesheet><script>
        // Current page data
        var mkdocs_page_name = "Biowulf2HPCDME";
        var mkdocs_page_input_path = "HPCDME/transfer.md";
        var mkdocs_page_url = null;
      </script><!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js></script><script>hljs.highlightAll();</script></head> <body class=wy-body-for-nav role=document> <div class=wy-grid-for-nav> <nav data-toggle=wy-nav-shift class="wy-nav-side stickynav"> <div class=wy-side-scroll> <div class=wy-side-nav-search> <a href=../.. class="icon icon-home"> CCBR How Tos </a><div role=search> <form id=rtd-search-form class=wy-form action=../../search.html method=get> <input type=text name=q placeholder="Search docs" aria-label="Search docs" title="Type search term here"> </form> </div> </div> <div class="wy-menu wy-menu-vertical" data-spy=affix role=navigation aria-label="Navigation menu"> <ul> <li class=toctree-l1><a class="reference internal" href=../..>Intro</a> </li> </ul> <p class=caption><span class=caption-text>GitHub</span></p> <ul> <li class=toctree-l1><a href=../../GitHub/overview/ class="reference internal">Overview</a> </li> <li class=toctree-l1><a class="reference internal" href=#>Set-Up</a> <ul> <li class=toctree-l2><a href=../../GitHub/howto_setup/ class="reference internal">Preparing your environment</a> </li> <li class=toctree-l2><a href=../../GitHub/howto_functions/ class="reference internal">Basic Commands</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal" href=#>Basics</a> <ul> <li class=toctree-l2><a href=../../GitHub/basic_repo/ class="reference internal">Creating your GitHub Repo</a> </li> <li class=toctree-l2><a href=../../GitHub/basic_docs/ class="reference internal">Creating your Documentation</a> </li> <li class=toctree-l2><a href=../../GitHub/basic_actions/ class="reference internal">Creating GitHub Actions</a> </li> <li class=toctree-l2><a href=../../GitHub/howto_precommit/ class="reference internal">Using Pre-Commit</a> </li> </ul> </li> <li class=toctree-l1><a class="reference internal" href=#>Best Practices</a> <ul> <li class=toctree-l2><a href=../../GitHub/sop_projpipes/ class="reference internal">Projects,Pipelines</a> </li> <li class=toctree-l2><a href=../../GitHub/sop_techdev/ class="reference internal">TechDev</a> </li> </ul> </li> </ul> <p class=caption><span class=caption-text>TechDev</span></p> <ul> <li class=toctree-l1><a href=../../GitHub/sop_techdev/ class="reference internal">Best Practices</a> </li> </ul> <p class=caption><span class=caption-text>HPCDME</span></p> <ul class=current> <li class=toctree-l1><a href=../setup/ class="reference internal">Setup</a> </li> <li class="toctree-l1 current"><a href=./ class="reference internal current">Biowulf2HPCDME</a> <ul class=current> <li class=toctree-l2><a class="reference internal" href=#background>Background</a> </li> <li class=toctree-l2><a class="reference internal" href=#parkit>parkit</a> <ul> <li class=toctree-l3><a class="reference internal" href=#projark-usage>projark usage</a> <ul> <li class=toctree-l4><a class="reference internal" href=#load-conda-env>load conda env</a> </li> <li class=toctree-l4><a class="reference internal" href=#projark-help>projark help</a> </li> </ul> </li> <li class=toctree-l3><a class="reference internal" href=#projark-testing>projark testing</a> <ul> <li class=toctree-l4><a class="reference internal" href=#get-dummy-data>get dummy data</a> </li> <li class=toctree-l4><a class="reference internal" href=#run-projark>run projark</a> </li> <li class=toctree-l4><a class="reference internal" href=#verify-transfer>verify transfer</a> </li> <li class=toctree-l4><a class="reference internal" href=#cleanup>cleanup</a> </li> </ul> </li> </ul> </li> </ul> </li> <li class=toctree-l1><a href=../transferFromHelix/ class="reference internal">Helix2HPCDME</a> </li> </ul> <p class=caption><span class=caption-text>UCSC Tracks</span></p> <ul> <li class=toctree-l1><a href=../../UCSC/overview/ class="reference internal">Overview</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_inputs/ class="reference internal">Creating Inputs</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_track_info/ class="reference internal">Creating Tracks Info</a> </li> <li class=toctree-l1><a href=../../UCSC/creating_tracks/ class="reference internal">Creating Tracks</a> </li> </ul> <p class=caption><span class=caption-text>Creating an R Package</span></p> <ul> <li class=toctree-l1><a href=../../Rpackage/setup/ class="reference internal">Set-Up</a> </li> <li class=toctree-l1><a href=../../Rpackage/build_pkg/ class="reference internal">Creating the package</a> </li> <li class=toctree-l1><a href=../../Rpackage/common_issues/ class="reference internal">Troubleshooting</a> </li> </ul> <p class=caption><span class=caption-text>Other How Tos</span></p> <ul> <li class=toctree-l1><a href=../../OtherHowTos/datashare/ class="reference internal">Datashare</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/zenodo/ class="reference internal">Zenodo</a> </li> <li class=toctree-l1><a href=../../OtherHowTos/lucidcharts/ class="reference internal">LucidCharts</a> </li> </ul> <p class=caption><span class=caption-text>Tutorials</span></p> <ul> <li class=toctree-l1><a href=../../Tutorials/snakemake/ class="reference internal">Snakemake</a> </li> </ul> <ul> <li class=toctree-l1><a href=../../contributions/ class="reference internal">Contributions</a> </li> </ul> </div> </div> </nav> <section data-toggle=wy-nav-shift class=wy-nav-content-wrap> <nav class=wy-nav-top role=navigation aria-label="Mobile navigation menu"> <i data-toggle=wy-nav-top class="fa fa-bars"></i> <a href=../..>CCBR How Tos</a> </nav> <div class=wy-nav-content> <div class=rst-content><div role=navigation aria-label="breadcrumbs navigation"> <ul class=wy-breadcrumbs> <li><a href=../.. class="icon icon-home" aria-label=Docs></a></li> <li class=breadcrumb-item>HPCDME</li> <li class="breadcrumb-item active">Biowulf2HPCDME</li> <li class=wy-breadcrumbs-aside> <a href=https://github.com/CCBR/HowTos/edit/main/docs/HPCDME/transfer.md>Edit on CCBR/HowTos</a> </li> </ul> <hr> </div> <div role=main class=document itemscope=itemscope itemtype=http://schema.org/Article> <div class=section itemprop=articleBody> <h1 id=file-transfers-from-biowulf>File Transfers from Biowulf<a class=headerlink href=#file-transfers-from-biowulf title="Permanent link">&para;</a></h1> <blockquote> <p>üõë <strong>STOP</strong>: <code>dm_register_dataobject_multipart</code> does not work via SLURM. Hence, file transfers are NOT working when initiated from BIOWULF. We recommend <a href=../transferFromHelix/ >transferring files from Helix.</a></p> </blockquote> <h2 id=background><a name=Background></a>Background<a class=headerlink href=#background title="Permanent link">&para;</a></h2> <p>Rawdata or Project folders from Biowulf can be parked at a secure location after the analysis has reached an endpoint. Traditionally, CCBR analysts have been using GridFTP Globus Archive for doing this. But, this Globus Archive has been running relatively full lately and it is hard to estimate how much space is left there as the volume is shared among multiple groups.</p> <h2 id=parkit><a name=parkit></a>parkit<a class=headerlink href=#parkit title="Permanent link">&para;</a></h2> <p><a href=https://github.com/CCBR/parkit><strong>parkit</strong></a> is designed to assist analysts in archiving project data from the NIH's Biowulf/Helix systems to the HPC-DME storage platform. It provides functionalities to package and store data such as raw FastQ files or processed data from bioinformatics pipelines. Users can automatically:</p> <ul> <li>create tarballs of their data (including <code>.filelist</code> and <code>.md5sum</code> files), </li> <li>generate metadata, </li> <li>create collections on HPC-DME, and </li> <li>deposit tar files into the system for long-term storage. </li> </ul> <p><strong>parkit</strong> also features comprehensive workflows that support both folder-based and tarball-based archiving. These workflows are integrated with the SLURM job scheduler, enabling efficient execution of archival tasks on the Biowulf HPC cluster. This integration ensures that bioinformatics project data is securely archived and well-organized, allowing for seamless long-term storage.</p> <blockquote> <p>‚ùó <strong>NOTE</strong>: HPC DME API CLUs should already be setup as per <a href=https://ccbr.github.io/HowTos/HPCDME/setup/ >these</a> instructions in order to use <strong>parkit</strong></p> <p>‚ùó <strong>NOTE</strong>: <code>HPC_DM_UTILS</code> environment variable should be set to point to the <code>utils</code> folder under the <code>HPC_DME_APIs</code> repo setup. Please see <a href=https://ccbr.github.io/HowTos/HPCDME/setup/#edit-bashrc>these</a> instructions.</p> </blockquote> <p><a href=https://github.com/CCBR/parkit><code>projark</code></a> is the preferred <strong>parkit</strong> command to completely archive an entire folder as a tarball on HPCDME using SLURM.</p> <h3 id=projark-usage><a name=projarkusage></a><code>projark</code> usage<a class=headerlink href=#projark-usage title="Permanent link">&para;</a></h3> <h4 id=load-conda-env>load conda env<a class=headerlink href=#load-conda-env title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=c1># source conda</span>
.<span class=w> </span><span class=s2>&quot;/data/CCBR_Pipeliner/db/PipeDB/Conda/etc/profile.d/conda.sh&quot;</span>
<span class=c1># activate parkit or parkit_dev environment</span>
conda<span class=w> </span>activate<span class=w> </span>parkit
<span class=c1># check version of parkit</span>
parkit<span class=w> </span>--version
projark<span class=w> </span>--version
</code></pre></div> <details> <summary><em>Expected sample output</em></summary> <div class=highlight><pre><span></span><code>v2.0.2-dev
projark<span class=w> </span>is<span class=w> </span>using<span class=w> </span>the<span class=w> </span>following<span class=w> </span>parkit<span class=w> </span>version:
v2.0.2-dev
</code></pre></div> </details> <h4 id=projark-help>projark help<a class=headerlink href=#projark-help title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>projark<span class=w> </span>--help
</code></pre></div> <details> <summary><em>Expected sample output</em></summary> <div class=highlight><pre><span></span><code>usage:<span class=w> </span>projark<span class=w> </span><span class=o>[</span>-h<span class=o>]</span><span class=w> </span>--folder<span class=w> </span>FOLDER<span class=w> </span>--projectnumber<span class=w> </span>PROJECTNUMBER
<span class=w>               </span><span class=o>[</span>--executor<span class=w> </span>EXECUTOR<span class=o>]</span><span class=w> </span><span class=o>[</span>--rawdata<span class=o>]</span><span class=w> </span><span class=o>[</span>--cleanup<span class=o>]</span>

Wrapper<span class=w> </span><span class=k>for</span><span class=w> </span>folder2hpcdme<span class=w> </span><span class=k>for</span><span class=w> </span>quick<span class=w> </span>CCBR<span class=w> </span>project<span class=w> </span>archiving!

options:
<span class=w>  </span>-h,<span class=w> </span>--help<span class=w>            </span>show<span class=w> </span>this<span class=w> </span><span class=nb>help</span><span class=w> </span>message<span class=w> </span>and<span class=w> </span><span class=nb>exit</span>
<span class=w>  </span>--folder<span class=w> </span>FOLDER<span class=w>       </span>Input<span class=w> </span>folder<span class=w> </span>path<span class=w> </span>to<span class=w> </span>archive
<span class=w>  </span>--projectnumber<span class=w> </span>PROJECTNUMBER
<span class=w>                        </span>CCBR<span class=w> </span>project<span class=w> </span>number..<span class=w> </span>destination<span class=w> </span>will<span class=w> </span>be
<span class=w>                        </span>/CCBR_Archive/GRIDFTP/Project_CCBR-&lt;projectnumber&gt;
<span class=w>  </span>--executor<span class=w> </span>EXECUTOR<span class=w>   </span>slurm<span class=w> </span>or<span class=w> </span><span class=nb>local</span>
<span class=w>  </span>--rawdata<span class=w>             </span>If<span class=w> </span>tarball<span class=w> </span>is<span class=w> </span>rawdata<span class=w> </span>and<span class=w> </span>needs<span class=w> </span>to<span class=w> </span>go<span class=w> </span>under<span class=w> </span>folder
<span class=w>                        </span>Rawdata
<span class=w>  </span>--cleanup<span class=w>             </span>post<span class=w> </span>transfer<span class=w> </span>step<span class=w> </span>to<span class=w> </span>delete<span class=w> </span><span class=nb>local</span><span class=w> </span>files
</code></pre></div> </details> <h3 id=projark-testing><a name=projarktest></a><code>projark</code> testing<a class=headerlink href=#projark-testing title="Permanent link">&para;</a></h3> <h4 id=get-dummy-data>get dummy data<a class=headerlink href=#get-dummy-data title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=c1># make a tmp folder</span>
mkdir<span class=w> </span>-p<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp
<span class=c1># copy dummy project folder into the tmp folder</span>
cp<span class=w> </span>-r<span class=w> </span>/data/CCBR/projects/CCBR-12345<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>
<span class=c1># check if HPC_DM_UTILS has been set</span>
<span class=nb>echo</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>
</code></pre></div> <h4 id=run-projark>run <code>projark</code><a class=headerlink href=#run-projark title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>projark<span class=w> </span>--folder<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span><span class=w> </span>--projectnumber<span class=w> </span><span class=m>12345</span>-<span class=nv>$USER</span><span class=w> </span>--executor<span class=w> </span><span class=nb>local</span>
</code></pre></div> <details> <summary><em>Expected sample output</em></summary> <div class=highlight><pre><span></span><code>SOURCE_CONDA_CMD<span class=w> </span>is<span class=w> </span><span class=nb>set</span><span class=w> </span>to:<span class=w> </span>.<span class=w> </span><span class=s2>&quot;/data/CCBR_Pipeliner/db/PipeDB/Conda/etc/profile.d/conda.sh&quot;</span>
HPC_DM_UTILS<span class=w> </span>is<span class=w> </span><span class=nb>set</span><span class=w> </span>to:<span class=w> </span>/data/kopardevn/GitRepos/HPC_DME_APIs/utils
parkit_folder2hpcdme<span class=w> </span>--folder<span class=w> </span><span class=s2>&quot;/data/</span><span class=nv>$USER</span><span class=s2>/parkit_tmp/CCBR-12345-</span><span class=nv>$USER</span><span class=s2>&quot;</span><span class=w> </span>--dest<span class=w> </span><span class=s2>&quot;/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn&quot;</span><span class=w> </span>--projecttitle<span class=w> </span><span class=s2>&quot;CCBR-12345-kopardevn&quot;</span><span class=w> </span>--projectdesc<span class=w> </span><span class=s2>&quot;CCBR-12345-kopardevn&quot;</span><span class=w> </span>--executor<span class=w> </span><span class=s2>&quot;local&quot;</span><span class=w> </span>--hpcdmutilspath<span class=w> </span>/data/kopardevn/GitRepos/HPC_DME_APIs/utils<span class=w> </span>--makereadme
<span class=c1>################ Running createtar #############################</span>
parkit<span class=w> </span>createtar<span class=w> </span>--folder<span class=w> </span><span class=s2>&quot;/data/</span><span class=nv>$USER</span><span class=s2>/parkit_tmp/CCBR-12345-</span><span class=nv>$USER</span><span class=s2>&quot;</span>
tar<span class=w> </span>cvf<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span><span class=w> </span>&gt;<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.md5<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist.md5<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
<span class=c1>################################################################</span>
<span class=c1>############ Running createemptycollection ######################</span>
parkit<span class=w> </span>createemptycollection<span class=w> </span>--dest<span class=w> </span><span class=s2>&quot;/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn&quot;</span><span class=w> </span>--projectdesc<span class=w> </span><span class=s2>&quot;CCBR-12345-kopardevn&quot;</span><span class=w> </span>--projecttitle<span class=w> </span><span class=s2>&quot;CCBR-12345-kopardevn&quot;</span>
module<span class=w> </span>load<span class=w> </span>java/11.0.21<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>dm_register_collection<span class=w> </span>/dev/shm/a213dedc-9363-44ec-8a7a-d29f2345a0b5.json<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn
cat<span class=w> </span>/dev/shm/a213dedc-9363-44ec-8a7a-d29f2345a0b5.json<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>rm<span class=w> </span>-f<span class=w> </span>/dev/shm/a213dedc-9363-44ec-8a7a-d29f2345a0b5.json
module<span class=w> </span>load<span class=w> </span>java/11.0.21<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>dm_register_collection<span class=w> </span>/dev/shm/cabf7826-81b5-4b6a-addd-09fbcf279591.json<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn/Analysis
module<span class=w> </span>load<span class=w> </span>java/11.0.21<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>dm_register_collection<span class=w> </span>/dev/shm/cabf7826-81b5-4b6a-addd-09fbcf279591.json<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn/Rawdata
cat<span class=w> </span>/dev/shm/cabf7826-81b5-4b6a-addd-09fbcf279591.json<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>rm<span class=w> </span>-f<span class=w> </span>/dev/shm/cabf7826-81b5-4b6a-addd-09fbcf279591.json
<span class=c1>################################################################</span>
<span class=c1>########### Running createmetadata ##############################</span>
parkit<span class=w> </span>createmetadata<span class=w> </span>--tarball<span class=w> </span><span class=s2>&quot;/data/</span><span class=nv>$USER</span><span class=s2>/parkit_tmp/CCBR-12345-</span><span class=nv>$USER</span><span class=s2>.tar&quot;</span><span class=w> </span>--dest<span class=w> </span><span class=s2>&quot;/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn&quot;</span>
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.metadata.json<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
createmetadata:<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist.metadata.json<span class=w> </span>file<span class=w> </span>was<span class=w> </span>created!
<span class=c1>################################################################</span>
<span class=c1>############# Running deposittar ###############################</span>
parkit<span class=w> </span>deposittar<span class=w> </span>--tarball<span class=w> </span><span class=s2>&quot;/data/</span><span class=nv>$USER</span><span class=s2>/parkit_tmp/CCBR-12345-</span><span class=nv>$USER</span><span class=s2>.tar&quot;</span><span class=w> </span>--dest<span class=w> </span><span class=s2>&quot;/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn&quot;</span>
module<span class=w> </span>load<span class=w> </span>java/11.0.21<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>dm_register_dataobject<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist.metadata.json<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn/Analysis/CCBR-12345.tar.filelist<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.filelist
module<span class=w> </span>load<span class=w> </span>java/11.0.21<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>dm_register_dataobject_multipart<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar.metadata.json<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn/Analysis/CCBR-12345.tar<span class=w> </span>/data/<span class=nv>$USER</span>/parkit_tmp/CCBR-12345-<span class=nv>$USER</span>.tar
<span class=c1>################################################################</span>
</code></pre></div> </details> <blockquote> <p>‚ùó <strong>NOTE</strong>: remove <code>--executor local</code> from the command when running on real data (not test data) to submit jobs through SLURM</p> <p>‚ùó <strong>NOTE</strong>: add <code>--rawdata</code> when folder contains raw fastqs</p> </blockquote> <h4 id=verify-transfer>verify transfer<a class=headerlink href=#verify-transfer title="Permanent link">&para;</a></h4> <p>Transfer can be verified by logging into <a href=https://hpcdmeweb.nci.nih.gov/browse?base>HPC DME web interface</a>.</p> <p><img alt="alt text" src=../verification.png></p> <h4 id=cleanup>cleanup<a class=headerlink href=#cleanup title="Permanent link">&para;</a></h4> <p>Delete unwanted collection from HPC DME.</p> <div class=highlight><pre><span></span><code><span class=c1># load java</span>
module<span class=w> </span>load<span class=w> </span>java
<span class=c1># load dm_ commands</span>
<span class=nb>source</span><span class=w> </span><span class=nv>$HPC_DM_UTILS</span>/functions
<span class=c1># delete collection recursively</span>
dm_delete_collection<span class=w> </span>-r<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-<span class=nv>$USER</span>
</code></pre></div> <details> <summary><em>Expected sample output</em></summary> <div class=highlight><pre><span></span><code>Reading<span class=w> </span>properties<span class=w> </span>from<span class=w> </span>/data/kopardevn/GitRepos/HPC_DME_APIs/utils/hpcdme.properties
WARNING:<span class=w> </span>You<span class=w> </span>have<span class=w> </span>requested<span class=w> </span>recursive<span class=w> </span>delete<span class=w> </span>of<span class=w> </span>the<span class=w> </span>collection.<span class=w> </span>This<span class=w> </span>will<span class=w> </span>delete<span class=w> </span>all<span class=w> </span>files<span class=w> </span>and<span class=w> </span>sub-collections<span class=w> </span>within<span class=w> </span>it<span class=w> </span>recursively.<span class=w> </span>Are<span class=w> </span>you<span class=w> </span>sure<span class=w> </span>you<span class=w> </span>want<span class=w> </span>to<span class=w> </span>proceed?<span class=w> </span><span class=o>(</span>Y/N<span class=o>)</span>:
Y
Would<span class=w> </span>you<span class=w> </span>like<span class=w> </span>to<span class=w> </span>see<span class=w> </span>the<span class=w> </span>list<span class=w> </span>of<span class=w> </span>files<span class=w> </span>to<span class=w> </span>delete<span class=w> </span>?
N
The<span class=w> </span>collection<span class=w> </span>/CCBR_Archive/GRIDFTP/Project_CCBR-12345-kopardevn<span class=w> </span>and<span class=w> </span>all<span class=w> </span>files<span class=w> </span>and<span class=w> </span>sub-collections<span class=w> </span>within<span class=w> </span>it<span class=w> </span>will<span class=w> </span>be<span class=w> </span>recursively<span class=w> </span>deleted.<span class=w> </span>Proceed<span class=w> </span>with<span class=w> </span>deletion<span class=w> </span>?<span class=w> </span><span class=o>(</span>Y/N<span class=o>)</span>:
Y
Executing:<span class=w> </span>https://hpcdmeapi.nci.nih.gov:8080/collection
Wrote<span class=w> </span>results<span class=w> </span>into<span class=w> </span>/data/kopardevn/HPCDMELOG/tmp/getCollections_Records20241010.txt
Cmd<span class=w> </span>process<span class=w> </span>Completed
Oct<span class=w> </span><span class=m>10</span>,<span class=w> </span><span class=m>2024</span><span class=w> </span><span class=m>4</span>:43:09<span class=w> </span>PM<span class=w> </span>org.springframework.shell.core.AbstractShell<span class=w> </span>handleExecutionResult
INFO:<span class=w> </span>CLI_SUCCESS
</code></pre></div> </details> <blockquote> <p>‚ö†Ô∏è Reach out to <a href=mailto:vishal.koparde@nih.gov>Vishal Koparde</a> in case you run into issues.</p> </blockquote> </div> </div><footer> <div class=rst-footer-buttons role=navigation aria-label="Footer Navigation"> <a href=../setup/ class="btn btn-neutral float-left" title=Setup><span class="icon icon-circle-arrow-left"></span> Previous</a> <a href=../transferFromHelix/ class="btn btn-neutral float-right" title=Helix2HPCDME>Next <span class="icon icon-circle-arrow-right"></span></a> </div> <hr> <div role=contentinfo> <!-- Copyright etc --> <p>Copyright &copy; 2025 CCBR</p> </div> Built with <a href=https://www.mkdocs.org/ >MkDocs</a> using a <a href=https://github.com/readthedocs/sphinx_rtd_theme>theme</a> provided by <a href=https://readthedocs.org>Read the Docs</a>. </footer> </div> </div> </section> </div> <div class=rst-versions role=note aria-label=Versions> <span class=rst-current-version data-toggle=rst-current-version> <span><a href=../setup/ style="color: #fcfcfc">&laquo; Previous</a></span> <span><a href=../transferFromHelix/ style="color: #fcfcfc">Next &raquo;</a></span> </span> </div> <script src=../../js/jquery-3.6.0.min.js></script> <script>var base_url = "../..";</script> <script src=../../js/theme_extra.js></script> <script src=../../js/theme.js></script> <script src=../../search/main.js></script> <script src=../../js/version-select.js></script> <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script> </body> </html> 